{"id":"vpet-28q","title":"Update README with trait and bonding systems","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T21:37:34.165752-08:00","updated_at":"2025-11-28T21:39:12.918873-08:00","closed_at":"2025-11-28T21:39:12.918873-08:00"}
{"id":"vpet-4th","title":"popup-close","description":"esc or mouse click should close tmux popup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T21:12:01.283645-08:00","updated_at":"2025-11-27T21:15:34.156354-08:00","closed_at":"2025-11-27T21:15:34.156354-08:00"}
{"id":"vpet-6mm","title":"Fix bond well-timed check timing","description":"Three bond system tests are failing because the well-timed check evaluates stats AFTER the action is applied:\n\n1. TestBondingSystem/Well-timed_feeding_increases_bond_more\n   - Hunger starts at 45\n   - After feeding +30, hunger becomes 75\n   - Check: if p.Hunger \u003c 50 (75 \u003c 50 = false)\n   - Expected: +2 bond (well-timed)\n   - Actual: +1 bond (normal)\n\n2. TestBondingSystem/Well-timed_play_increases_bond_more\n   - Happiness starts at 40\n   - After playing +30, happiness becomes ~70\n   - Check: if p.Happiness \u003c 50 (70 \u003c 50 = false)\n   - Expected: +2 bond (well-timed)\n   - Actual: +1 bond (normal)\n\n3. TestBondingSystem/Interaction_history_limited_to_maximum\n   - Test tries to feed 25 times to exceed history limit\n   - Pet hunger gets too high (\u003e90) after 2 feeds\n   - Further feeds are refused, so only 2 interactions recorded\n   - Expected: 20 interactions\n   - Actual: 2 interactions\n\nDECISION NEEDED:\nShould \"well-timed\" be based on stat value BEFORE or AFTER the action?\n\nOption A (current): Check after action\n- Pro: Simpler to understand - \"was the stat still low after I helped?\"\n- Con: Makes it nearly impossible to get well-timed bonus\n\nOption B (proposed): Check before action  \n- Pro: More intuitive - \"did I help when they really needed it?\"\n- Con: Need to capture stat value before modification\n\nFor test 3, need to either:\n- Set hunger very low initially so 25 feeds don't exceed 90\n- Or reset hunger periodically during the loop","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2025-11-28T21:33:31.23775-08:00","updated_at":"2025-12-05T20:07:49.938053-08:00"}
{"id":"vpet-7ia","title":"Bonding/Trust Meter System","description":"Add hidden Bond stat (0-100) that tracks relationship quality and rewards consistent, well-timed care over spam feeding.\n\n**Features:**\n- Bond stat (0-100) grows from consistent, well-timed care\n- Decays from neglect (24+ hours without interaction)\n- Interaction memory system tracks recent actions for diminishing returns\n- High bond benefits: faster recovery, less illness, actions more effective\n- Low bond penalties: actions less effective, pet becomes distant\n- Spam prevention: repeated actions within short time have reduced effectiveness\n\n**Implementation:**\n- Add Bond int field to Pet struct\n- Add LastInteractions []Interaction field to track recent actions\n- Create Interaction struct with Type and Time\n- Update feed(), play() to check recent interactions and apply bond multipliers\n- Implement bond gain logic for well-timed actions (feeding when hungry, not when full)\n- Implement bond decay in loadState() for neglect (24+ hours)\n- Apply bond multipliers to action effectiveness (0.5x to 1.0x based on bond)\n- Apply bond benefits to illness resistance and recovery rates\n- Display bond level in UI (hidden exact number, show relationship quality description)\n\n**Complexity:** Medium-High\n**Impact:** High - rewards good pet ownership and creates long-term progression","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-28T20:30:44.084419-08:00","updated_at":"2025-11-28T21:27:23.402147-08:00","closed_at":"2025-11-28T21:27:23.402147-08:00"}
{"id":"vpet-b1x","title":"Personality Trait System","description":"Add random personality traits assigned at birth that affect stat decay rates and action bonuses. Makes every pet unique and creates replayability.\n\n**Trait Categories:**\n- Temperament: Calm (slower decay) vs Hyperactive (faster energy drain, more play rewards)\n- Appetite: Picky (smaller feed bonus) vs Hungry (larger bonus, faster hunger decay)\n- Sociability: Independent (slower happiness decay) vs Needy (bonus from frequent care)\n- Constitution: Robust (resists illness) vs Fragile (gets sick easier)\n\n**Implementation:**\n- Add Trait struct with Name and Modifiers map (stat_name -\u003e multiplier)\n- Add Traits []Trait field to Pet struct\n- Create generateTraits() to randomly select one trait per category\n- Create getEffectiveDecayRate() to apply trait modifiers to base rates\n- Update decay calculations in loadState() and updateHourlyStats()\n- Update action methods (feed, play) to apply trait bonuses\n- Update illness chance calculation to use constitution trait\n- Display traits in UI stats view\n\n**Complexity:** Medium\n**Impact:** High - creates unique pets and replayability","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T21:33:41.882321-08:00","updated_at":"2025-11-28T15:52:50.456195-08:00","closed_at":"2025-11-28T15:52:50.456195-08:00"}
{"id":"vpet-k7n","title":"Autonomous Pet Behavior System","description":"Give the pet agency with auto-sleep/wake, action refusal, random moods, and attention-seeking behavior. Transform the pet from passive stat-tracker to something that feels alive.\n\n**Features:**\n- Auto-sleep when Energy \u003c 20 (drowsy warning at \u003c 40)\n- Auto-wake after 6-8 hours of sleep when Energy is restored\n- Refuse actions: won't play when too tired, won't eat when full\n- Random moods: playful, lazy, needy (affects behavior and status emoji)\n- Attention seeking: status emoji shows what pet wants (üçñ hungry, üéæ wants play)\n\n**Implementation:**\n- Add Mood, MoodExpiresAt, AutoSleepTime fields to Pet struct\n- Create applyAutonomousBehavior() called in loadState()\n- Update action methods (feed, play) to check conditions and refuse if inappropriate\n- Update status emoji logic to reflect moods and desires\n\n**Complexity:** Medium\n**Impact:** Very High - makes pet feel alive instead of passive","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T21:31:46.085274-08:00","updated_at":"2025-11-27T21:32:20.128281-08:00","closed_at":"2025-11-27T21:32:20.128281-08:00"}
{"id":"vpet-r3h","title":"first","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T21:10:52.327532-08:00","updated_at":"2025-11-27T21:11:35.589333-08:00","closed_at":"2025-11-27T21:11:35.589333-08:00"}
