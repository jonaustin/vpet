{"id":"vpet-28q","title":"Update README with trait and bonding systems","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T21:37:34.165752-08:00","updated_at":"2025-11-28T21:39:12.918873-08:00","closed_at":"2025-11-28T21:39:12.918873-08:00"}
{"id":"vpet-4cq","title":"Status message shouldn't show 'needs care' when pet is already addressing the need","description":"Current behavior:\n- Status shows \"üò¥üòæ Sleeping (needs care)\" when energy is low\n- This is confusing because sleeping IS the care action for low energy\n\nThe logic in getStatusWithLabel (lines 1653-1663) currently shows \"(needs care)\" whenever len(status) \u003e 4 (two emojis), but doesn't consider whether the current activity is already addressing the critical stat.\n\nProposed fix:\n- Don't show \"(needs care)\" when sleeping with low energy (üòæ)\n- Don't show \"(needs care)\" when sleeping normally (drowsy ü•± is fine to show)\n- Still show \"(needs care)\" for other critical stats while sleeping (hungry üôÄ, sad üòø, sick ü§¢)\n\nExample improvements:\n- \"üò¥üòæ Sleeping\" (not \"needs care\" - already recovering)\n- \"üò¥üôÄ Sleeping (needs care)\" (hungry while sleeping - needs feeding)\n- \"üò¥ü§¢ Sleeping (needs care)\" (sick while sleeping - needs medicine)","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-05T20:31:07.441011-08:00","updated_at":"2025-12-05T20:35:42.825432-08:00","closed_at":"2025-12-05T20:35:42.825432-08:00"}
{"id":"vpet-4th","title":"popup-close","description":"esc or mouse click should close tmux popup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T21:12:01.283645-08:00","updated_at":"2025-11-27T21:15:34.156354-08:00","closed_at":"2025-11-27T21:15:34.156354-08:00"}
{"id":"vpet-5ed","title":"Add ASCII animations for actions","description":"Add visual ASCII animations when the user performs actions like feeding, playing, giving medicine, or putting the pet to sleep. These animations would provide better feedback and make interactions more engaging and fun. Similar to the butterfly chase animation, these could be brief animated sequences that play when actions are performed.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-06T17:14:13.530695-08:00","updated_at":"2025-12-06T17:14:13.530695-08:00"}
{"id":"vpet-5g4","title":"Attention-seeking status icon for wants","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T22:14:52.70705-08:00","updated_at":"2025-12-05T22:17:25.84986-08:00","closed_at":"2025-12-05T22:17:25.84986-08:00"}
{"id":"vpet-5ph","title":"Add tests for chase package","description":"The internal/chase package has 0% test coverage. Add basic tests for the butterfly chase animation logic.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-06T17:21:30.837669-08:00","updated_at":"2025-12-06T17:21:30.837669-08:00"}
{"id":"vpet-6mm","title":"Fix bond well-timed check timing","description":"Three bond system tests are failing because the well-timed check evaluates stats AFTER the action is applied:\n\n1. TestBondingSystem/Well-timed_feeding_increases_bond_more\n   - Hunger starts at 45\n   - After feeding +30, hunger becomes 75\n   - Check: if p.Hunger \u003c 50 (75 \u003c 50 = false)\n   - Expected: +2 bond (well-timed)\n   - Actual: +1 bond (normal)\n\n2. TestBondingSystem/Well-timed_play_increases_bond_more\n   - Happiness starts at 40\n   - After playing +30, happiness becomes ~70\n   - Check: if p.Happiness \u003c 50 (70 \u003c 50 = false)\n   - Expected: +2 bond (well-timed)\n   - Actual: +1 bond (normal)\n\n3. TestBondingSystem/Interaction_history_limited_to_maximum\n   - Test tries to feed 25 times to exceed history limit\n   - Pet hunger gets too high (\u003e90) after 2 feeds\n   - Further feeds are refused, so only 2 interactions recorded\n   - Expected: 20 interactions\n   - Actual: 2 interactions\n\nDECISION NEEDED:\nShould \"well-timed\" be based on stat value BEFORE or AFTER the action?\n\nOption A (current): Check after action\n- Pro: Simpler to understand - \"was the stat still low after I helped?\"\n- Con: Makes it nearly impossible to get well-timed bonus\n\nOption B (proposed): Check before action  \n- Pro: More intuitive - \"did I help when they really needed it?\"\n- Con: Need to capture stat value before modification\n\nFor test 3, need to either:\n- Set hunger very low initially so 25 feeds don't exceed 90\n- Or reset hunger periodically during the loop","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-28T21:33:31.23775-08:00","updated_at":"2025-12-05T20:15:07.767625-08:00","closed_at":"2025-12-05T20:15:07.767625-08:00"}
{"id":"vpet-72v","title":"Add negative/error case tests","description":"Add tests for edge cases: invalid inputs (negative bond values), corrupted save file handling, and other error conditions.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-06T17:21:31.034347-08:00","updated_at":"2025-12-06T20:32:39.924902-08:00"}
{"id":"vpet-7ia","title":"Bonding/Trust Meter System","description":"Add hidden Bond stat (0-100) that tracks relationship quality and rewards consistent, well-timed care over spam feeding.\n\n**Features:**\n- Bond stat (0-100) grows from consistent, well-timed care\n- Decays from neglect (24+ hours without interaction)\n- Interaction memory system tracks recent actions for diminishing returns\n- High bond benefits: faster recovery, less illness, actions more effective\n- Low bond penalties: actions less effective, pet becomes distant\n- Spam prevention: repeated actions within short time have reduced effectiveness\n\n**Implementation:**\n- Add Bond int field to Pet struct\n- Add LastInteractions []Interaction field to track recent actions\n- Create Interaction struct with Type and Time\n- Update feed(), play() to check recent interactions and apply bond multipliers\n- Implement bond gain logic for well-timed actions (feeding when hungry, not when full)\n- Implement bond decay in loadState() for neglect (24+ hours)\n- Apply bond multipliers to action effectiveness (0.5x to 1.0x based on bond)\n- Apply bond benefits to illness resistance and recovery rates\n- Display bond level in UI (hidden exact number, show relationship quality description)\n\n**Complexity:** Medium-High\n**Impact:** High - rewards good pet ownership and creates long-term progression","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-28T20:30:44.084419-08:00","updated_at":"2025-11-28T21:27:23.402147-08:00","closed_at":"2025-11-28T21:27:23.402147-08:00"}
{"id":"vpet-b1x","title":"Personality Trait System","description":"Add random personality traits assigned at birth that affect stat decay rates and action bonuses. Makes every pet unique and creates replayability.\n\n**Trait Categories:**\n- Temperament: Calm (slower decay) vs Hyperactive (faster energy drain, more play rewards)\n- Appetite: Picky (smaller feed bonus) vs Hungry (larger bonus, faster hunger decay)\n- Sociability: Independent (slower happiness decay) vs Needy (bonus from frequent care)\n- Constitution: Robust (resists illness) vs Fragile (gets sick easier)\n\n**Implementation:**\n- Add Trait struct with Name and Modifiers map (stat_name -\u003e multiplier)\n- Add Traits []Trait field to Pet struct\n- Create generateTraits() to randomly select one trait per category\n- Create getEffectiveDecayRate() to apply trait modifiers to base rates\n- Update decay calculations in loadState() and updateHourlyStats()\n- Update action methods (feed, play) to apply trait bonuses\n- Update illness chance calculation to use constitution trait\n- Display traits in UI stats view\n\n**Complexity:** Medium\n**Impact:** High - creates unique pets and replayability","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T21:33:41.882321-08:00","updated_at":"2025-11-28T15:52:50.456195-08:00","closed_at":"2025-11-28T15:52:50.456195-08:00"}
{"id":"vpet-du3","title":"Enable temp directory cleanup in tests","description":"Line 157 in pet_test.go has commented-out cleanup: // os.RemoveAll(tmpDir). This should be enabled to properly clean up test artifacts.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-06T17:21:31.135232-08:00","updated_at":"2025-12-06T17:27:19.615914-08:00","closed_at":"2025-12-06T17:27:19.615914-08:00"}
{"id":"vpet-eox","title":"Review tests for completeness and best practices","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T17:17:32.286004-08:00","updated_at":"2025-12-06T17:19:24.242713-08:00","closed_at":"2025-12-06T17:19:24.242713-08:00"}
{"id":"vpet-ivf","title":"Add tests for chronotype helpers","description":"Add tests for GetChronotypeSchedule(), IsActiveHours(), GetChronotypeName(), and GetChronotypeEmoji(). These helper functions have no direct test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T17:21:30.742631-08:00","updated_at":"2025-12-06T20:30:44.630616-08:00","closed_at":"2025-12-06T20:30:44.630616-08:00"}
{"id":"vpet-j2l","title":"Add tests for trait system","description":"Add direct tests for GenerateTraits() and GetTraitModifier(). Currently these are only tested indirectly through other tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T17:21:30.647985-08:00","updated_at":"2025-12-06T20:26:04.337831-08:00","closed_at":"2025-12-06T20:26:04.337831-08:00"}
{"id":"vpet-k7n","title":"Autonomous Pet Behavior System","description":"Give the pet agency with auto-sleep/wake, action refusal, random moods, and attention-seeking behavior. Transform the pet from passive stat-tracker to something that feels alive.\n\n**Features:**\n- Auto-sleep when Energy \u003c 20 (drowsy warning at \u003c 40)\n- Auto-wake after 6-8 hours of sleep when Energy is restored\n- Refuse actions: won't play when too tired, won't eat when full\n- Random moods: playful, lazy, needy (affects behavior and status emoji)\n- Attention seeking: status emoji shows what pet wants (üçñ hungry, üéæ wants play)\n\n**Implementation:**\n- Add Mood, MoodExpiresAt, AutoSleepTime fields to Pet struct\n- Create applyAutonomousBehavior() called in loadState()\n- Update action methods (feed, play) to check conditions and refuse if inappropriate\n- Update status emoji logic to reflect moods and desires\n\n**Complexity:** Medium\n**Impact:** Very High - makes pet feel alive instead of passive","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T21:31:46.085274-08:00","updated_at":"2025-11-27T21:32:20.128281-08:00","closed_at":"2025-11-27T21:32:20.128281-08:00"}
{"id":"vpet-r3h","title":"first","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T21:10:52.327532-08:00","updated_at":"2025-11-27T21:11:35.589333-08:00","closed_at":"2025-11-27T21:11:35.589333-08:00"}
{"id":"vpet-w9e","title":"Fix duplicate assertions in TestNewPet","description":"Lines 501-525 in pet_test.go have duplicate assertions for Health, Age, LifeStage, and Illness checks. Remove the duplicates.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-06T17:21:30.935925-08:00","updated_at":"2025-12-06T17:23:34.024724-08:00","closed_at":"2025-12-06T17:23:34.024724-08:00"}
{"id":"vpet-xu3","title":"Add -chase flag for animation mode","description":"Implement a -chase flag that displays an animation of the pet chasing a butterfly across the terminal screen.\n\nRequirements:\n- Butterfly chase animation (horizontal left-to-right)\n- Press any key to exit\n- Extensible for other chase targets (ball, mouse, etc.)\n- Uses Bubble Tea with alternate screen\n\nImplementation plan:\n1. Add type definitions (ChaseTarget, chaseModel, chaseAnimTickMsg)\n2. Add helper functions (runChaseAnimation, chaseAnimTick)\n3. Add chaseModel Bubble Tea methods (Init, Update, View)\n4. Add -chase flag and handler in main()\n5. Test the animation\n\nStatus:\n- ‚úÖ Type definitions added\n- ‚úÖ Helper functions added\n- ‚è≥ Working on chaseModel methods","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-06T10:19:58.310844-08:00","updated_at":"2025-12-06T10:22:46.775998-08:00","closed_at":"2025-12-06T10:22:46.775998-08:00"}
{"id":"vpet-zjh","title":"Enhance chase animation with 2D movement","description":"Make the chase animation more dynamic and realistic by adding vertical (up/down) movement in addition to the current horizontal movement.\n\n## Current Behavior\n- Pet and butterfly move only left-to-right in a straight line\n- Movement is predictable and repetitive\n- Animation feels flat and boring\n\n## Desired Behavior\n- Butterfly should \"flutter\" up and down as it moves across the screen\n- Pet should follow the butterfly's vertical position (with slight lag)\n- Movement should feel organic and unpredictable\n- Think: real animal chasing butterfly across a meadow\n\n## Implementation Ideas\n1. **Butterfly movement pattern**:\n   - Add vertical position to chaseModel\n   - Use sine wave, random walks, or perlin noise for flutter pattern\n   - Keep within terminal height bounds\n\n2. **Pet following behavior**:\n   - Track both X and Y distance to butterfly\n   - Move diagonally when needed\n   - Maybe add different chase \"speeds\" based on distance\n\n3. **Visual improvements**:\n   - Use multiple lines of terminal for vertical space\n   - Could add simple ground/sky indicators\n   - Animation fills more of the screen (not just one line)\n\n4. **Extensibility**:\n   - Different targets could have different movement patterns\n   - Ball: bouncing parabolic arc\n   - Mouse: erratic zigzag along ground\n   - Butterfly: fluttering sine wave\n\n## Technical Considerations\n- Need to track termHeight in addition to termWidth\n- More complex rendering (multi-line View() method)\n- Collision/following math in 2D instead of 1D\n- Keep frame rate smooth (may need optimization)\n\n## Dependencies\n- Builds on current vpet-xu3 implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-06T10:28:34.939002-08:00","updated_at":"2025-12-06T10:35:47.655307-08:00","closed_at":"2025-12-06T10:35:47.655307-08:00"}
